(this["webpackJsonpreact-demo"]=this["webpackJsonpreact-demo"]||[]).push([[0],{109:function(e,t,n){e.exports=n(249)},23:function(e,t,n){e.exports={flexBox:"virtual-list_flexBox__U9DeR",flexItem:"virtual-list_flexItem__Y25LB",list:"virtual-list_list__1X8P7",virtualList:"virtual-list_virtualList__2aGyr",item:"virtual-list_item__fDVBA"}},249:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(41),l=n.n(c),o=n(17),i=n(6),u=n(2),s=n(3),h=n(5),p=n(4);var m=function(e,t){var n=function(t){r=e(r,t);for(var n=0;n<c.length;n++){(0,c[n])()}return t},a=function(){return r},r={},c=[],l=n;return n({type:"INIT"}),"function"===typeof t&&(l=t({dispatch:function(e){return l(e)},getState:a})(n)),{dispatch:l,subscribe:function(e){return c.push(e),function(){var t=c.indexOf(e);c.splice(t,1)}},getState:a}};var d=n(107),f=n(26);var v=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=e.getState,a=e.dispatch;return function(e){return f.b.apply(void 0,Object(d.a)(t.map((function(e){return e({getState:n,dispatch:a})}))))(e)}}};var b=function(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var r=t[a];"function"===typeof e[r]&&(n[r]=e[r])}var c=Object.keys(n);return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=!1,r={},l=0;l<c.length;l++){var o=c[l],i=n[o],u=e[o],s=i(u,t);r[o]=s,a=a||s!==u}return a?r:e}}({counter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISPATCH_ADD":return e+1;case"DISPATCH_REDUCE":return e-1;default:return e}},text:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"world",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISPATCH_CHANGE_TEXT":return"world"===e?"redux":"world";default:return e}}}),E=n(47),O=n(105),j=n.n(O),g=m(b,v(n(106).a,j.a)),C=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleAdd=function(){e.props.add()},e.handleReduce=function(){e.props.reduce()},e.handleTextChange=function(){e.props.changeText()},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"redux-demo"),r.a.createElement("p",null,"hello ",this.props.text),r.a.createElement("button",{onClick:this.handleTextChange},"change Text"),r.a.createElement("p",null,"click ",this.props.counter),r.a.createElement("button",{onClick:this.handleAdd},"add"),r.a.createElement("button",{onClick:this.handleReduce},"reduce"))}}]),n}(a.Component),y=Object(E.b)((function(e){return{counter:e.counter,text:e.text}}),{add:function(){return function(e,t){return e({type:"DISPATCH_ADD"})}},reduce:function(){return{type:"DISPATCH_REDUCE"}},changeText:function(){return{type:"DISPATCH_CHANGE_TEXT"}}})(C),k=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(E.a,{store:g},r.a.createElement(y,null))}}]),n}(a.Component),x=n(14),S={counter:0,text:"world"},_={type:"DISPATCH_ADD"},D={type:"DISPATCH_REDUCE"},A={type:"DISPATCH_TEXT_CHANGE"};var w=n(66),I=r.a.createContext({});function T(e,t){return function(n){var c,l;return l=c=function(a){Object(h.a)(l,a);var c=Object(p.a)(l);function l(e,t){var n;return Object(u.a)(this,l),(n=c.call(this,e,t)).store=e.store||t,n.state={storeState:n.store.getState()},n}return Object(s.a)(l,[{key:"componentDidMount",value:function(){this.unSubscribe||(this.unSubscribe=this.store.subscribe(this.handleStoreChange.bind(this)))}},{key:"shouldComponentUpdate",value:function(t,n){return!(Object(w.shallowEqual)(this.state.storeState,n.storeState)||Object(w.shallowEqual)(e(this.state.storeState,this.props),e(n.storeState,t)))}},{key:"componentWillUnmount",value:function(){this.unSubscribe&&this.unSubscribe(),this.clearCache()}},{key:"handleStoreChange",value:function(){if(this.unSubscribe){var e=this.state.storeState,t=this.store.getState();e!==t&&this.setState({storeState:t})}}},{key:"clearCache",value:function(){this.store=null,this.unSubscribe=null}},{key:"render",value:function(){var a=this.state.storeState;return r.a.createElement(n,Object.assign({},this.props,e(a,this.props),t(this.store.dispatch,this.props)))}}]),l}(a.Component),c.contextType=I,l}}var H=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(I.Provider,{value:this.props.store},this.props.children)}}]),n}(a.Component),L=Object(f.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISPATCH_ADD":return Object(x.a)(Object(x.a)({},e),{},{counter:e.counter+1});case"DISPATCH_REDUCE":return Object(x.a)(Object(x.a)({},e),{},{counter:e.counter-1});case"DISPATCH_TEXT_CHANGE":return Object(x.a)(Object(x.a)({},e),{},{text:"world"===e.text?"react-redux":"world"});default:return e}})),P=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleTextChange=function(){e.props.textChange()},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"hello ",this.props.text),r.a.createElement("button",{onClick:this.handleTextChange},"change!"))}}]),n}(a.Component),N=T((function(e){return{text:e.text}}),(function(e){return{textChange:function(){e(A)}}}))(P),R=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleAdd=function(){e.props.add()},e.handleReduce=function(){e.props.reduce()},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"click ",this.props.counter),r.a.createElement("button",{onClick:this.handleAdd},"add"),r.a.createElement("button",{onClick:this.handleReduce},"reduce"))}}]),n}(a.Component),M=T((function(e){return{counter:e.counter}}),(function(e){return{add:function(){e(_)},reduce:function(){e(D)}}}))(R),U=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(H,{store:L},r.a.createElement("div",null,r.a.createElement("h1",null,"react_redux-demo"),r.a.createElement(N,null),r.a.createElement(M,null)))}}]),n}(a.Component),V=r.a.createContext({}),F=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={location:e.history.location},a._isMounted=!1,a.uninstall=e.history.listen((function(e){var t=e.location;a._isMounted&&a.setState({location:t})})),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this.uninstall(),this._isMounted=!1}},{key:"render",value:function(){var e=this.state.location,t=this.props,n=t.history,a=t.children;return r.a.createElement(V.Provider,{value:{location:e,history:n,match:{path:"/",url:"/",params:{},isExact:"/"===e.pathname}}},a)}}]),n}(a.Component),B=n(44),G=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).history=Object(B.a)(e.props),e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(F,{history:this.history,children:this.props.children})}}]),n}(a.Component),X=(a.Component,function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(V.Consumer,null,(function(t){var n,c,l=e.props.location||t.location;return r.a.Children.forEach(e.props.children,(function(e){if(!n){c=e;var a=e.props.path||e.props.from;n=a?l.pathname===a:t.match}})),c&&n?Object(a.cloneElement)(c,{location:l}):null}))}}]),n}(a.Component)),z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(V.Consumer,null,(function(t){var n=e.props,a=n.match,r=n.path,c=n.children,l=t.location;return a||(r?l.pathname===r:t.match)?c:null}))}}]),n}(a.Component),q=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e,a){var r;Object(u.a)(this,n),r=t.call(this,e,a);var c=e.push,l=void 0!==c&&c,o=a.history;return r.method=l?o.push:o.replace,r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.method(this.props.to)}},{key:"componentDidUpdate",value:function(e){e.to!==this.props.to&&this.method(this.props.to)}},{key:"render",value:function(){return null}}]),n}(a.Component);q.contextType=V;var J=n(108),W=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){return function(n){n.preventDefault(),t(e.props.to)}},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.to,a=t.replace,c=t.children,l=Object(J.a)(t,["to","replace","children"]);return r.a.createElement(V.Consumer,null,(function(t){var o=t.history,i=a?o.replace:o.push;return r.a.createElement("a",Object.assign({},l,{href:n,onClick:e.handleClick(i)}),c)}))}}]),n}(a.Component),Y=n(22),K=n.n(Y);var Q=function(e){var t=function(t){Object(h.a)(a,t);var n=Object(p.a)(a);function a(){return Object(u.a)(this,a),n.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return r.a.createElement(V.Consumer,null,(function(n){return r.a.createElement(e,Object.assign({},t.props,n))}))}}]),a}(a.Component);return K()(t,e)}(function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){return function(){e.props.history.push(t)}},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,"react_router_dom-demo"),r.a.createElement(X,null,r.a.createElement(z,{path:"/react-router-dom/"},r.a.createElement("div",null,"Main")),r.a.createElement(z,{path:"/react-router-dom/page"},r.a.createElement("div",null,"Page")),r.a.createElement(z,{path:"/react-router-dom/title"},r.a.createElement("div",null,"Title")),r.a.createElement(z,{path:"/react-router-dom/footer"},r.a.createElement("div",null,"Footer")),r.a.createElement(q,{path:"/redirect",to:"/404"})),r.a.createElement("p",null,"Link Component jump\uff1a"),r.a.createElement(W,{to:"/react-router-dom/"},"main"),r.a.createElement("span",null,"\u3000"),r.a.createElement(W,{to:"/react-router-dom/page"},"page"),r.a.createElement("span",null,"\u3000"),r.a.createElement(W,{to:"/react-router-dom/title"},"title"),r.a.createElement("span",null,"\u3000"),r.a.createElement(W,{to:"/react-router-dom/footer"},"footer"),r.a.createElement("p",null,"withRouter pass history props jump\uff1a"),r.a.createElement("button",{onClick:this.handleClick("/react-router-dom/")},"main"),r.a.createElement("button",{onClick:this.handleClick("/react-router-dom/page")},"page"),r.a.createElement("button",{onClick:this.handleClick("/react-router-dom/title")},"title"),r.a.createElement("button",{onClick:this.handleClick("/react-router-dom/footer")},"footer"))}}]),n}(a.Component)),Z=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(t){return function(){e.props.history.push(t)}},e}return Object(s.a)(n,[{key:"render",value:function(){return r.a.createElement(G,null,r.a.createElement(Q,null))}}]),n}(a.Component),$=n(23),ee=n.n($),te=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(u.a)(this,n),(a=t.call(this,e)).updateVisibleData=function(){var e=a.props,t=e.list,n=e.itemHeight,r=t.slice(a.startIndex,a.endIndex),c=a.startIndex*n,l=r.length*n;a.setState({visibleData:r,startOffset:c,offsetHeight:l})},a.handleScroll=function(e){var t=a.props,n=t.list,r=t.cache,c=t.itemHeight,l=a.node.scrollTop/c,o=Math.floor(l),i=l%1>0?1:0;a.startIndex=o>=r?o-r:0,o>=n.length-(a.visibleCount+r+i)?a.endIndex=n.length:a.endIndex=o+a.visibleCount+r+i,a.updateVisibleData()};var r=e.list,c=e.cache,l=e.height,o=e.itemHeight;return a.state={visibleData:[],startOffset:0,offsetHeight:0},a.totalHeight=r.length*o,a.visibleCount=Math.ceil(l/o),a.startIndex=0,a.endIndex=a.startIndex+a.visibleCount+c,a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.updateVisibleData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.visibleData,a=t.startOffset,c=t.offsetHeight,l=this.props,o=l.height,i=l.renderItem,u=l.className,s=l.style;return r.a.createElement("div",{style:Object(x.a)(Object(x.a)({},s),{},{position:"relative",overflowY:"auto",height:o}),className:u,ref:function(t){return e.node=t},onScroll:this.handleScroll},r.a.createElement("div",{style:{height:this.totalHeight}},r.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:a,height:c}},n.map(i))))}}]),n}(a.Component);te.defaultProps={cache:0,list:[]};var ne=te,ae=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(u.a)(this,n),(e=t.call(this)).handleLengthChange=function(t){e.setState({length:+t.currentTarget.value})},e.handleCacheChange=function(t){e.setState({cache:+t.currentTarget.value})},e.createList=function(){e.list=new Array(e.state.length).fill(null).map((function(e,t){return t+1}))},e.handleListCreate=function(){e.createList(),e.setState({showList:!0})},e.handleVirtualListCreate=function(){e.createList(),e.setState({showVirtualList:!0})},e.renderListItem=function(e){return r.a.createElement("div",{key:e,className:ee.a.item},e)},e.state={length:1e4,cache:1,showList:!1,showVirtualList:!1},e.list=new Array(1e4).fill(null).map((function(e,t){return t+1})),e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.length,n=e.cache;return r.a.createElement(a.Fragment,null,r.a.createElement("h1",null,"virtual_list-demo"),r.a.createElement("label",null,"length\uff1a"),r.a.createElement("input",{min:"0",type:"number",value:t,onChange:this.handleLengthChange}),r.a.createElement("span",null,"\u3000"),r.a.createElement("label",null,"cache\uff1a"),r.a.createElement("input",{min:"0",type:"number",value:n,onChange:this.handleCacheChange}),r.a.createElement("span",null,"\u3000"),r.a.createElement("button",{onClick:this.handleListCreate,title:"cache useless"},"create list"),r.a.createElement("span",null,"\u3000"),r.a.createElement("button",{onClick:this.handleVirtualListCreate},"create virtual-list"),r.a.createElement("div",{className:ee.a.flexBox},r.a.createElement("div",{className:ee.a.flexItem},r.a.createElement("p",null,"\u865a\u62df\u5217\u8868\uff1a"),this.state.showVirtualList&&r.a.createElement(ne,{className:ee.a.virtualList,cache:n,list:this.list,itemHeight:60,height:600,renderItem:this.renderListItem})),r.a.createElement("div",{className:ee.a.flexItem},r.a.createElement("p",null,"\u666e\u901a\u5217\u8868\uff1a"),this.state.showList&&r.a.createElement("div",{className:ee.a.list},this.list.map(this.renderListItem)))))}}]),n}(a.Component),re=n(43),ce=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.percent,n=e.changeSize,a=void 0===n||n;return r.a.createElement("div",{style:{height:"16px",width:"100%",borderRadius:"8px",background:"#dddddd"}},r.a.createElement("div",{style:{width:"".concat(t,"%"),height:"100%",borderRadius:"8px",background:"linear-gradient(to right, #ff3737, #3939ff)",backgroundSize:a?"".concat(1e4/(t>100?100:t),"%"):"100%"}}))}}]),n}(a.Component),le=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={percent:10},e.handleInputChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(re.a)({},a,r))},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.percent;return r.a.createElement("div",null,r.a.createElement("h1",null,"Component"),r.a.createElement("div",{style:{width:"720px"}},r.a.createElement("input",{type:"number",name:"percent",value:e,min:0,max:100,onChange:this.handleInputChange}),r.a.createElement("p",null,"\u80cc\u666f\u5bbd\u5ea6\u62c9\u6ee1\uff1a"),r.a.createElement(ce,{percent:e}),r.a.createElement("p",null,"\u80cc\u666f\u5bbd\u5ea6\u4e0d\u62c9\u6ee1\uff1a"),r.a.createElement(ce,{percent:e,changeSize:!1})))}}]),n}(a.Component);var oe=function(){return r.a.createElement(a.Fragment,null,r.a.createElement(o.b,{to:"/redux"},"redux-demo"),r.a.createElement("span",null,"\u3000\u3000\u3000"),r.a.createElement(o.b,{to:"/react-redux"},"react_redux-demo"),r.a.createElement("span",null,"\u3000\u3000\u3000"),r.a.createElement(o.b,{to:"/react-router-dom"},"react_router_dom-demo"),r.a.createElement("span",null,"\u3000\u3000\u3000"),r.a.createElement(o.b,{to:"/virtual-list"},"virtual_list-demo"),r.a.createElement("span",null,"\u3000\u3000\u3000"),r.a.createElement(o.b,{to:"/component"},"component"),r.a.createElement("div",null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/redux",component:k}),r.a.createElement(i.a,{path:"/react-redux",component:U}),r.a.createElement(i.a,{path:"/react-router-dom",component:Z}),r.a.createElement(i.a,{path:"/virtual-list",component:ae}),r.a.createElement(i.a,{path:"/component",component:le}))))};l.a.render(r.a.createElement(o.a,{basename:"/react-demo"},r.a.createElement(oe,null)),document.getElementById("root"))}},[[109,1,2]]]);
//# sourceMappingURL=main.7eda0af8.chunk.js.map